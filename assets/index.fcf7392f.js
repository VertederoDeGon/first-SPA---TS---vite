(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();const S="css-tricks",w=`https://${S}.com`,L=w+"/wp-json",v=L+"/wp/v2",x=6,D=v+"/posts?_embed&per_page="+x,O=v+"/posts",P=v+"/search?_embed&per_page="+x+"&search=";let j=2;const l={NAME:S,DOMAIN:w,PER_PAGE:x,page:j,SITE:L,POSTS:D,POST:O,SEARCH:P};function q(){const e=document.createElement("img");return e.src="https://raw.githubusercontent.com/SamHerbert/SVG-Loaders/5deed925369e57e9c58ba576ce303466984db501/svg-loaders/three-dots.svg",e.alt="Loading...",e.classList.add("loader"),e}function B(){const e=document.createElement("a"),n=document.createElement("a"),r=document.createElement("a"),o=document.createElement("a"),t=document.createElement("span"),a=document.createElement("nav");return e.href="#/",e.textContent="Home",n.href="#/search",n.textContent="Search",r.href="#/contacts",r.textContent="Contacts",o.href="https://aprendejavascript.org",o.textContent="Learn Javascript",o.rel="noopener",o.target="_blank",t.textContent="-",a.classList.add("menu"),a.appendChild(e),a.appendChild(document.importNode(t,!0)),a.appendChild(r),a.appendChild(document.importNode(t,!0)),a.appendChild(n),a.appendChild(t),a.appendChild(o),a}function z(){const e=document.createElement("form"),n=document.createElement("input");return n.name="search",n.type="search",n.autocomplete="off",n.placeholder="Search it",e.classList.add("form-search"),e.appendChild(n),localStorage.getItem("wpQuery")&&location.hash.includes("#/search")&&(e.search.value=localStorage.getItem("wpQuery")),document.addEventListener("submit",r=>{r.target===e&&(r.preventDefault(),e.search.value.trim()!==""&&localStorage.setItem("wpQuery",e.search.value),location.hash="#/search?search="+e.search.value.toLowerCase())}),e}function M(){const e=document.createElement("h1"),n=document.createElement("a");return n.href=l.DOMAIN,n.target="_blank",n.rel="noopener",n.textContent=l.NAME.toUpperCase(),e.appendChild(n),e}function H(){const e=document.createElement("header");return e.classList.add("header"),e.appendChild(M()),e.appendChild(B()),e.appendChild(z()),e}function N(){const e=document.createElement("main");return e.id="posts",location.hash.includes("#/search")||e.classList.add("grid-fluid"),e}async function $(e){let{url:n,cbSuccess:r}=e;await fetch(n).then(o=>o.ok?o.json():Promise.reject(o)).then(o=>{r(o)}).catch(o=>{console.error(o);const t=document.querySelector(".loader"),a=document.getElementById("posts"),c=document.createElement("div"),s=document.createElement("p");s.textContent=`Error ${o.status||"Unknown"}: ${o.statusText||"An error has ocurred."}`,c.classList.add("error"),c.appendChild(s),a?a.appendChild(c):document.body.appendChild(c),t&&(t.style.display="none")})}function I(e){const n=document.createElement("article"),r=document.createElement("img"),o=document.createElement("h2"),t=document.createElement("p"),a=document.createElement("time"),c=document.createElement("a");let{slug:s,title:i,_embedded:m}=e;return n.classList.add("post-card"),r.src=m["wp:featuredmedia"][0].source_url||e.jetpack_featured_media_url,r.alt=i.rendered,o.innerHTML=i.rendered,a.dateTime=e.date,a.textContent=`${new Date(e.date).toLocaleString()}`,c.href="#/"+s,c.textContent="View post",t.appendChild(a),t.appendChild(c),n.appendChild(r),n.appendChild(o),n.appendChild(t),n}function R(e){const n=document.createElement("section"),r=document.createElement("aside"),o=document.createElement("h2"),t=document.createElement("time"),a=document.createElement("hr"),c=document.createElement("article");let{content:s,title:i}=e;return n.classList.add("post-page"),o.textContent=i.rendered,t.dateTime=e.date,t.textContent=new Date(e.date).toLocaleString(),c.innerHTML=s.rendered,r.appendChild(o),r.appendChild(t),n.appendChild(r),n.appendChild(a),n.appendChild(c),n}function T(e){const n=document.createElement("article"),r=document.createElement("h2"),o=document.createElement("p"),t=document.createElement("a");return n.classList.add("post-card"),r.innerHTML=e.title,e._embedded.self[0].slug&&(t.href="#/"+e._embedded.self[0].slug),t.textContent="View publication",o.style.display="block",o.appendChild(t),n.appendChild(r),n.appendChild(o),n}function Q(){const e=document.createElement("form"),n=document.getElementById("dynamic-styles"),r=".contact-form { --form-ok-color: #4caf50;--form-error-color: #f44336;margin-left: auto;margin-right: auto;width: 80%;}.contact-form > * {display: block;padding: 0.5rem;margin: 1rem auto;width: 100%;}.contact-form textarea {resize: none;}.contact-form legend,.contact-form-response {font-size: 1.5rem;font-weight: bold;text-align: center;}.contact-form input,.contact-form textarea {font-size: 1rem;font-family: monospace;  }.contact-form input[type='submit'] {width: 50%;font-weight: bold;cursor: pointer;}.contact-form *::placeholder {color: #f2f2f2;}.contact-form [required]:valid {border: var(--form-ok-color) solid thin;}.contact-form [required]:invalid {border: var(--form-error-color) solid thin;}.contact-form-error {margin-top: -1rem;color: #f2f2f2;background-color: var(--form-error-color);font-size: 80%;transition: all 800ms ease;}.contact-form-error.is-active {display: block;animation: show-message 1s 1 normal 0s ease-out both;}.contact-form-loader {text-align: center;}.none {display: none;}@keyframes show-message {0% {visivibility: hidden;opacity: 0;}100% {visibility: visible;opacity: 1;}}",o=document.createElement("legend"),t=document.createElement("input"),a=document.createElement("input"),c=document.createElement("input"),s=document.createElement("textarea"),i=document.createElement("input"),m=document.createElement("div"),p=document.createElement("img"),g=document.createElement("div"),E=document.createElement("p"),k=[t,a,c,s];let y,d,f,C;return e.classList.add("contact-form"),e.action="https://formsubmit.co/oregonz.go@gmail.com",e.target="_blank",e.method="POST",o.textContent="Send us your comments",e.appendChild(o),t.type="text",t.name="name",t.placeholder="Enter your name",t.title="This field accepts only words and blanks. This field can not exceed 50 characters",t.pattern="^[A-Za-z\xD1\xF1\xC1\xE1\xC9\xE9\xCD\xED\xD3\xF3\xDA\xFA\xDC\xFC\\s]{1,50}$",t.required=!0,e.appendChild(t),a.type="email",a.name="email",a.placeholder="Enter your email",a.title="Invalid email",a.pattern="^[A-Za-z0-9]+(\\.[A-Za-z0-9]+|-[A-Za-z0-9]+|_[A-Za-z0-9]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z]{2,15})$",a.required=!0,e.appendChild(a),c.type="text",c.name="subject",c.placeholder="Subject",c.title="The subject is required",c.required=!0,e.appendChild(c),s.name="comments",s.cols=50,s.rows=5,s.placeholder="Enter your comments",s.title="Your comment can not exceed 50 characters 255 characters",s.dataset.pattern="^(\\n|.){1,255}$",s.required=!0,e.appendChild(s),i.type="submit",i.value="Send",e.appendChild(i),m.classList.add("contact-form-loader","none"),p.src="https://raw.githubusercontent.com/SamHerbert/SVG-Loaders/5deed925369e57e9c58ba576ce303466984db501/svg-loaders/three-dots.svg",p.alt="Loading...",m.appendChild(p),e.appendChild(m),g.classList.add("contact-form-response","none"),E.textContent="The data has been sent",g.appendChild(E),e.appendChild(g),k.forEach(u=>{y=document.createElement("span"),y.id=u.name,y.textContent=u.title,y.classList.add("contact-form-error","none"),u.insertAdjacentElement("afterend",y)}),document.addEventListener("input",u=>{if(!!u.target&&u.target.matches(".contact-form [required]")){if(d=u.target,d.pattern||s.dataset.pattern?f=d.pattern||s.dataset.pattern:console.error("Pattern is not defined"),!document.getElementById(d.name))return console.error("document.getElementById($input.name) does not exists");if(f&&d.value!=="")return C=new RegExp(f,"i"),C.exec(d.value)?document.getElementById(d.name).classList.remove("is-active"):document.getElementById(d.name).classList.add("is-active");if(f&&d.value==="")return C=new RegExp(f,"i"),C.exec(d.value)?document.getElementById(d.name).classList.add("is-active"):document.getElementById(d.name).classList.remove("is-active");if(!f)return d.value===""?document.getElementById(d.name).classList.remove("is-active"):document.getElementById(d.name).classList.add("is-active")}}),document.addEventListener("submit",async u=>{var b;u.preventDefault(),m.classList.remove("none");try{const h=await fetch("https://formsubmit.co/ajax/oregonz.go@gmail.com",{method:"POST",body:new FormData(u.target)}),_=await h.json();if(!h.ok)throw{status:h.status,statusText:h.statusText};m.classList.add("none"),g.classList.remove("none"),E.textContent=_.message,e.reset()}catch(h){E.innerHTML=`Error: ${(b=h.status)!=null?b:"Unknown"}: 
        ${h.statusText||"An error has occurred, try again"}`,console.log(h)}finally{setTimeout(()=>{g.classList.add("none"),E.textContent=""},3e3)}}),n&&(n.textContent=r),e}async function F(){const e=document.getElementById("posts"),n=document.querySelector(".loader"),r=document.createElement("h2");for(;e.lastChild;)e.lastChild.remove();if(e.appendChild(r),!location.hash||location.hash==="#/")r.remove(),await $({url:l.POSTS,cbSuccess:o=>{o.forEach(t=>e.appendChild(I(t)))}});else if(location.hash.includes("#/search")){const o=new URLSearchParams(location.hash.slice(8));if(!localStorage.getItem("wpQuery")){r.textContent="Search some posts!",n.style.display="none";return}location.hash="#/search?search="+localStorage.getItem("wpQuery"),r.textContent="Searching...",r.remove(),await $({url:`${l.SEARCH}${o.get("search")||localStorage.getItem("wpQuery")}`,cbSuccess:async t=>{if(t.length===0){const a=document.createElement("p"),c=document.createElement("mark");a.classList.add("error"),a.textContent="No search results were found for the term ",c.textContent=o.get("search")+".",a.appendChild(c),e.appendChild(a),n.style.display="none"}else n.style.display="block",t.forEach(async a=>e.appendChild(T(a)))}})}else location.hash.includes("#/contacts")?(r.remove(),n.style.display="none",e.appendChild(Q())):(r.remove(),await $({url:l.POST+"?slug="+location.hash.slice(2),cbSuccess:o=>{e.appendChild(R(o[0])),n.style.display="none"}}))}async function Z(e){let n=localStorage.getItem("wpQuery"),r,o;const t=new IntersectionObserver(a=>{a.forEach(async c=>{var s;if(c.isIntersecting){if(t.disconnect(),l.page++,await $({url:r,cbSuccess:i=>{if(o=i,console.log("P VALUE: ",o),i.length===0){document.querySelector(".loader")&&(document.querySelector(".loader").style.display="none"),t.disconnect();return}if(!location.hash||location.hash==="#/")r=l.POSTS+"&page="+l.page,i.forEach(m=>{var p;return(p=document.getElementById("posts"))==null?void 0:p.appendChild(I(m))});else if(location.hash.includes("#/search"))r=l.SEARCH+n+"&page="+l.page,i.forEach(async m=>{var p;return(p=document.getElementById("posts"))==null?void 0:p.appendChild(T(m))});else{t.disconnect();return}}}),o.length===0){t.disconnect();return}t.observe((s=document.getElementById("posts"))==null?void 0:s.lastElementChild)}})},{root:null,threshold:1,rootMargin:"300px 0px"});if(!location.hash||location.hash==="#/")r=l.POSTS+"&page="+l.page;else if(location.hash.includes("#/search"))r=l.SEARCH+n+"&page="+l.page;else if(location.hash.includes("#/contacts")){t.disconnect();return}else{t.disconnect();return}e&&e instanceof Element&&t.observe(e)}async function A(){const e=document.getElementById("app");for(;e.lastChild;)e.lastChild.remove();e.appendChild(H()),e.appendChild(N()),e.appendChild(q()),await F(),e.querySelector("#posts")&&localStorage.getItem("wpQuery")&&!location.hash.includes("#/contacts")&&Z(e.querySelector("#posts").lastElementChild)}document.addEventListener("DOMContentLoaded",A);window.addEventListener("hashchange",()=>{l.page=2,A()});
